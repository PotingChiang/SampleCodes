<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template-dashboard.xhtml">
	
	<ui:param name="title" value="Your Shopping Cart" />

	<ui:define name="maincontent">
		<div class="container">
		
		<h2>Your Shopping Cart</h2>
		
			<h:form id="form">
				
				<p:panel header="Cart Item">
	
					<p:messages id="messages" />

					<p:dataTable id="cartItem" value="#{cartItemBean.theShoppingCart.shoppingCartItems}" var="cartItem" >
						
						<p:column headerText="Description" sortBy="#{cartItem.item.description}">
							<h:outputText value="#{cartItem.item.description}" />
						</p:column>
						
						<p:column headerText="Quantity" style="text-align: right" >
							<h:outputText value="#{cartItem.quantity}">
							</h:outputText>
						</p:column>
						<p:column></p:column>	
						<p:column>				
							<p:commandButton value="Delete" icon="ui-icon-trash" update=":form:cartItem,:form:messages" actionListener="#{expenseBean.deleteExpense(expense)}">
									<p:confirm header="Delete Confirmation" message="Are you sure you want to delete this record?" icon="ui-icon-alert" />
							</p:commandButton>			
						</p:column>
						
						<p:columnGroup type="footer">
				            <p:row>
				                <p:column colspan="1" style="text-align:center" footerText="Total Quantity:" />				 
				                <p:column style="text-align:right" footerText="#{cartItemBean.theShoppingCart.totalQuantity}" />
				                <p:column></p:column>
				            </p:row>
				        </p:columnGroup>
				        
					</p:dataTable>  
					
					<p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
				        <p:commandButton value="Yes sure" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
				        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				    </p:confirmDialog>
				    							
				</p:panel>
				<div>
			    	<h:commandLink value="Back to Shopping" immediate="true" action="/pages/itemsListByCategory.xhtml"/>
			    </div>
				
			</h:form>
		</div>
	</ui:define>

</ui:composition>